<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="pageTitle">Join Project</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 32 32%22><text y=%2224%22 font-size=%2224%22>⚡</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            color: #333;
        }

        .qr-code-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: #fff;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .qr-code-container p {
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }

        #qrCodeDiv {
            padding: 10px;
            background-color: white;
            border-radius: 0.25rem;
        }

        .form-message {
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .form-message.animate-show {
            opacity: 1;
            transform: translateY(0);
        }

        .form-message.success {
            color: green;
        }

        .form-message.error {
            color: red;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-black">
    <header
        class="bg-white shadow-md py-4 px-6 md:px-10 lg:px-16 flex justify-between items-center rounded-b-lg sticky top-0 z-50 dark:bg-gray-800 dark:text-white">
        <div class="flex items-center">
            <a href="index.html"
                class="text-2xl font-bold text-gray-800 hover:text-blue-600 dark:text-white dark:hover:text-blue-400 transition duration-300 ease-in-out">
                <span class="text-blue-600">G</span>TEJA
            </a>
        </div>
    </header>

    <div class="flex-grow p-6 md:p-10 lg:p-16">
        <h1 id="pageHeading" class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-8 text-center dark:text-white">
            Join <span id="projectName" class="text-blue-600 ml-2">Project</span>
        </h1>

        <div class="bg-white p-6 rounded-lg shadow-lg max-w-2xl mx-auto dark:bg-gray-800 dark:text-white">
            <div class="back-button-container mb-6">
                <a href="#" id="backToProjectButton"
                    class="inline-flex items-center bg-gray-200 hover:bg-gray-300 text-black dark:bg-gray-400 font-bold py-2 px-4 rounded-md shadow-sm transition duration-300 ease-in-out">
                    <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6l6 6l1.41-1.41z" />
                    </svg>
                    Back to Project Details
                </a>
            </div>

            <section class="join-form-container">
                <h2 id="formProjectTitle" class="text-2xl font-bold text-black dark:text-white mb-6 text-center">Join a Project</h2>
                <form id="joinProjectForm" class="space-y-4">
                    <div>
                        <label for="userName" class="block text-sm font-bold mb-2">Your Name:</label>
                        <input type="text" id="userName" name="userName" required maxlength="16"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white" />
                        <small class="text-gray-500 mt-1 block">*Maximum 16 characters allowed.</small>
                    </div>

                    <div>
                        <label for="userEmail" class="block text-sm font-bold mb-2">Your Email:</label>
                        <input type="email" id="userEmail" name="userEmail" required
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"/>
                        <small class="text-gray-500 mt-2 block">*Please provide a valid email address, and we'll send you a verification email.</small>
                    </div>

                    <div>
                        <label for="userMessage" class="block text-sm font-bold mb-2">Your Message (e.g.,
                            why you want to join, query about the project,.):</label>
                        <textarea id="userMessage" name="userMessage" required rows="4"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"></textarea>
                    </div>

                    <div class="flex items-center mt-4">
                        <input type="checkbox" id="isSponsor" name="isSponsor"
                            class="form-checkbox h-5 w-5 text-blue-600 rounded" />
                        <label for="isSponsor" class="ml-2">I'd like to optionally Fund this
                            project.</label>
                    </div>

                    <div id="sponsorFields" class="bg-gray-100 p-4 rounded-lg shadow-inner mt-4 dark:bg-gray-600" style="display: none;">
                        <div class="fund-project-section">
                            <h3 class="text-xl font-bold mb-2">Fund This Project</h3>
                            <p class="text-sm mb-4">Support this project by contributing financially.
                                Enter an amount and generate a UPI QR code for payment.</p>
                            <label for="fundAmount" class="block text-sm font-bold mb-2">Enter Amount
                                (INR):</label>
                            <input type="number" id="fundAmount" placeholder="₹" min="10" step="10"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white" />
                            <div class="qr-code-container dark:bg-gray-700" id="qrCodeContainer" style="display:none;">
                                <div id="qrCodeDiv"></div>
                                <p>Scan this QR code with your UPI app</p>
                                <p>UPI ID: <a id="upi-id" class="text-blue-700 dark:bg-blue-200 hover:underline">upi@id</a>
                                </p>
                            </div>
                            <label for="transactionId" class="block text-sm font-bold mb-2 mt-4">UPI
                                Transaction ID:</label>
                            <input type="text" id="transactionId"
                                placeholder="Enter Transaction ID after payment"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white" />
                            <p id="paymentStatus" class="mt-4 font-bold text-center"></p>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button type="submit"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Submit
                            Application</button>
                    </div>
                    <p id="formMessage" class="form-message text-center mt-4 text-sm text-gray-600"></p>
                </form>
            </section>
        </div>
    </div>

    <div id="thankYouModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-60">
        <div id="thankYouContent"
            class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full text-center transform scale-90 opacity-0 transition duration-300 ease-out">
        </div>
    </div>
    <div id="blastContainer" class="fixed pointer-events-none z-40"
        style="top:50%; left:50%; transform:translate(-50%, -50%); width:1024px; height:700px;">
    </div>

    <footer class="bg-gray-800 text-white text-center py-4 mt-auto rounded-t-lg">
        <p>&copy; <span id="year"></span> G TEJA. All rights reserved.</p>
        
        <script>
            document.getElementById('year').textContent = new Date().getFullYear();
        </script>
    </footer>

    <script src="https://unpkg.com/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="join_project.js"></script>
    <script>
        document.addEventListener('contextmenu', e => e.preventDefault());
            document.addEventListener('keydown', e => {
                if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && ['I', 'J'].includes(e.key.toUpperCase()))) {
                    e.preventDefault();
                }
            });
    </script>
</body>

</html>
